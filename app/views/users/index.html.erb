<div id="all-users-container">
    <div id="table-back">

        <h1>Benutzerliste</h1>

        <%= link_to "Neuer Benutzer", new_user_path, id: "new-user" %>

        <table id="usertable">
            <thead id="userhead">
                <th class="userth">Email</th>
                <th class="userth">Name</th>
                <th class="userth">Dienstgrad</th>
                <th class="userth">Aktionen</th>

            </thead>
            <tbody>
                <% @users.each do |user| %>
                    <tr>
                        <td class="usertd"><%= user.email_address %></td>
                        <td class="usertd"><%= user.full_name %></td>
                        <td class="usertd"><%= user.rank.germanize %></td>
                        <td class="usertd" style="display: flex;">
                            <%= link_to "Ansehen", user, class: "action-btn" %>
                            <%= link_to "Bearbeiten", edit_user_path(user), class: "action-btn" %>
                            <%= button_to "Löschen", user, 
                              method: :delete, 
                              id: "delete-user", 
                              class: "action-btn",
                              data: { turbo_confirm: "#{user.rank.germanize} #{user.full_name} wirklich löschen?" } 
                            %>
                        </td>
                    </tr>
                <% end %>
            </tbody>
        </table>
    </div>
</div>